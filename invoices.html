<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Invoices - EduQuest Academy</title>
    <style>
        body { font-family: sans-serif; padding: 20px; color: #333; }
        h1 { color: #007bff; margin-bottom: 30px; }
        table { width: 90%; margin: 20px auto; border-collapse: collapse; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        th, td { border: 1px solid #ddd; padding: 15px; text-align: left; }
        th { background-color: #f8f9fa; font-weight: 600; }
        .paid { color: green; font-weight: bold; }
        .unpaid { color: red; font-weight: bold; }
        .action a { background-color: #ff9800; color: white; padding: 8px 15px; text-decoration: none; border-radius: 5px; }
        .action a:hover { background-color: #e68900; }
    </style>
</head>
<body>
    <h1>{{ student.full_name }}'s Invoice History</h1>

    <table>
        <thead>
            <tr>
                <th>Invoice ID</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for invoice in student.invoices %}
            <tr>
                <td>{{ invoice.id }}</td>
                <td>{{ invoice.date }}</td>
                <td>{{ "{:,.0f} VND".format(invoice.amount) }}</td> 
                <td class="{% if invoice.status == 'Paid' %}paid{% else %}unpaid{% endif %}">
                    {{ invoice.status }}
                </td>
                <td class="action">
                    {% if invoice.status != 'Paid' %}
                        <a href="{{ url_for('payment_options', invoice_id=invoice.id) }}">View Payment Options</a>
                    {% else %}
                        Paid
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('student_dashboard') }}">‚Üê Back to Dashboard</a>
</body>
</html>